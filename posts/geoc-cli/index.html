<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>GEOC: A command line interface for GeoTools | GeoScripting</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The GDAL and OGR libraries are written in C and C++ and have an awesome command line interface (CLI). It is used extensively by GIS analysts and developers.
On the Java side of the fence, GeoTools is an equivalent geospatial library. It contains code for reading and writing vector and raster datasets but it does not have a CLI.
The GEOC project is my attempt to give GeoTools a CLI. It is written in Groovy using GeoScript which wraps GeoTools in a scripting API."><meta name=generator content="Hugo 0.79.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css rel=stylesheet><link rel=stylesheet href=/css/styles.css><meta property="og:title" content="GEOC: A command line interface for GeoTools"><meta property="og:description" content="The GDAL and OGR libraries are written in C and C++ and have an awesome command line interface (CLI). It is used extensively by GIS analysts and developers.
On the Java side of the fence, GeoTools is an equivalent geospatial library. It contains code for reading and writing vector and raster datasets but it does not have a CLI.
The GEOC project is my attempt to give GeoTools a CLI. It is written in Groovy using GeoScript which wraps GeoTools in a scripting API."><meta property="og:type" content="article"><meta property="og:url" content="https://jericks.github.io/posts/geoc-cli/"><meta property="article:published_time" content="2021-04-11T14:46:23-07:00"><meta property="article:modified_time" content="2021-04-11T14:46:23-07:00"><meta itemprop=name content="GEOC: A command line interface for GeoTools"><meta itemprop=description content="The GDAL and OGR libraries are written in C and C++ and have an awesome command line interface (CLI). It is used extensively by GIS analysts and developers.
On the Java side of the fence, GeoTools is an equivalent geospatial library. It contains code for reading and writing vector and raster datasets but it does not have a CLI.
The GEOC project is my attempt to give GeoTools a CLI. It is written in Groovy using GeoScript which wraps GeoTools in a scripting API."><meta itemprop=datePublished content="2021-04-11T14:46:23-07:00"><meta itemprop=dateModified content="2021-04-11T14:46:23-07:00"><meta itemprop=wordCount content="1129"><meta itemprop=keywords content="GEOC,GeoTools,GeoScript,CLI,"><meta name=twitter:card content="summary"><meta name=twitter:title content="GEOC: A command line interface for GeoTools"><meta name=twitter:description content="The GDAL and OGR libraries are written in C and C++ and have an awesome command line interface (CLI). It is used extensively by GIS analysts and developers.
On the Java side of the fence, GeoTools is an equivalent geospatial library. It contains code for reading and writing vector and raster datasets but it does not have a CLI.
The GEOC project is my attempt to give GeoTools a CLI. It is written in Groovy using GeoScript which wraps GeoTools in a scripting API."></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://jericks.github.io/posts/geoc-cli-vector-buffer.png)><div class="pb3-m pb6-l bg-black-60"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">GeoScripting</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts title="Blog page">Blog</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/mapcubes/ title="Mapcubes page">Mapcubes</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/presentations/ title="Presentations page">Presentations</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/projects/ title="Projects page">Projects</a></li></ul><a href=https://www.linkedin.com/in/ericksonjared target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/jericks target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><h1 class="f2 f1-l fw2 white-90 mb0 lh-title">GEOC: A command line interface for GeoTools</h1></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw9 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://jericks.github.io/posts/geoc-cli/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://jericks.github.io/posts/geoc-cli/&text=GEOC:%20A%20command%20line%20interface%20for%20GeoTools" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://jericks.github.io/posts/geoc-cli/&title=GEOC:%20A%20command%20line%20interface%20for%20GeoTools" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">GEOC: A command line interface for GeoTools</h1><time class="f6 mv4 dib tracked" datetime=2021-04-11T14:46:23-07:00>April 11, 2021</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>The <a href=https://gdal.org/>GDAL and OGR</a> libraries are written in C and C++ and have an awesome command line interface (CLI). It is used extensively by GIS analysts and developers.</p><p>On the Java side of the fence, <a href=https://geotools.org/>GeoTools</a> is an equivalent geospatial library. It contains code for reading and writing vector and raster datasets but it does not have a CLI.</p><p>The <a href=https://github.com/jericks/geoc>GEOC project</a> is my attempt to give GeoTools a CLI. It is written in <a href=https://groovy-lang.org/>Groovy</a> using <a href=https://github.com/geoscript/geoscript-groovy>GeoScript</a> which wraps GeoTools in a scripting API.</p><p>When I started working on GEOC, I was heavily influence by the <a href=https://en.wikipedia.org/wiki/Unix_philosophy>Unix Philosophy</a>.</p><ul><li>Write programs that do one thing and do it well.</li><li>Write programs to work together.</li><li>Write programs to handle text streams, because that is a universal interface.</li></ul><p>The rest of this post will explain how GEOC follows this philosophy.</p><h2 id=write-programs-that-do-one-thing-and-do-it-well>Write programs that do one thing and do it well</h2><p>GEOC is modeled after git. It has one command called <strong>geoc</strong> but is has many subcommands. Each subcommand does one thing with a minimum of command line options.</p><p>GEOC subcommands are divided into a few major categories:</p><ul><li><strong>vector</strong> = performs operations on vector layers like Shapefiles, PostGIS, or GeoPackage</li><li><strong>raster</strong> = performs operations on raster layers like GeoTIFFs or PNGs</li><li><strong>tile</strong> = performs operations on tile layers like MBTiles, GeoPackage, or TMS</li><li><strong>map</strong> = renders vectors, raster, and tiles</li><li><strong>style</strong> = creates SLD and CSS styles</li><li><strong>geometry</strong> = performs operations on geometry</li><li><strong>filter</strong> = performs operations on CQL filters</li></ul><p>So to extract centroids from a vector layer, you would use the <strong>geoc vector centroid</strong> command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc vector centroid -i naturalearth.gpkg -l countries    
</code></pre></div><p>To create a shaded relief raster, you would use the <strong>geoc raster shadedrelief</strong> command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc raster shadedrelief -i elev.tif -o shadedrelief -s 1.0 -a 45.0 -m 15.0
</code></pre></div><h2 id=write-programs-to-handle-text-streams>Write programs to handle text streams</h2><p>GEOC by default will read and write CSV for vector layers and ASCII grids for raster layers because both of these formats are plain text and easily manipulated by other standard Unix tools.</p><p>You can create 10 randomally placed points within a geometry by running the following command.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc vector randompoints -g <span style=color:#e6db74>&#34;0 0 10 10&#34;</span> -n <span style=color:#ae81ff>10</span>
</code></pre></div><p>Without specifying an output vector layer you will get CSV.</p><pre><code>&quot;id:Integer&quot;,&quot;the_geom:Point:EPSG:4326&quot;
&quot;0&quot;,&quot;POINT (5.809797012413168 4.404799582155855)&quot;
&quot;1&quot;,&quot;POINT (1.4255104615742187 3.5683465427528582)&quot;
&quot;2&quot;,&quot;POINT (4.153753762493767 8.504234032853892)&quot;
&quot;3&quot;,&quot;POINT (4.22106264553214 9.371223144465713)&quot;
&quot;4&quot;,&quot;POINT (3.960411666149567 4.4174895565594205)&quot;
&quot;5&quot;,&quot;POINT (3.2567871291812747 9.831350232696527)&quot;
&quot;6&quot;,&quot;POINT (8.978038456300231 3.8005485038591615)&quot;
&quot;7&quot;,&quot;POINT (1.1559996062641686 8.479330184507392)&quot;
&quot;8&quot;,&quot;POINT (9.36253666111469 4.868725975970661)&quot;
&quot;9&quot;,&quot;POINT (3.722832052543772 4.3734351925000245)&quot;
</code></pre><h2 id=write-programs-to-work-together>Write programs to work together</h2><p>GEOC commands can work together by piping the results of one command to another. This examples creates 5 random points and then pipes the result to the next command which buffers each point.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc vector randompoints -g -180,-90,180,90 -n <span style=color:#ae81ff>5</span> | geoc vector buffer -d <span style=color:#ae81ff>10</span> 
</code></pre></div><pre><code>&quot;id:Integer&quot;,&quot;the_geom:Polygon:EPSG:4326&quot;
&quot;0&quot;,&quot;POLYGON ((-165.4050383210672 -77.1982130603216, -165.5971855170349 -79.14911628048289, -166.16624299595432 -81.0250473839725, -167.09034219804175 -82.75391539051763, -168.33397050920172 -84.26928087218708, -169.84933599087117 -85.51290918334706, -171.5782039974163 -86.43700838543447, -173.45413510090592 -87.00606586435391, -175.4050383210672 -87.1982130603216, -177.35594154122847 -87.00606586435391, -179.2318726447181 -86.43700838543447, -180.96074065126322 -85.51290918334706, -182.47610613293267 -84.26928087218708, -183.71973444409264 -82.75391539051763, -184.64383364618007 -81.0250473839725, -185.2128911250995 -79.14911628048289, -185.4050383210672 -77.1982130603216, -185.2128911250995 -75.24730984016033, -184.64383364618007 -73.3713787366707, -183.71973444409264 -71.6425107301256, -182.47610613293267 -70.12714524845613, -180.96074065126322 -68.88351693729615, -179.2318726447181 -67.95941773520875, -177.35594154122847 -67.3903602562893, -175.4050383210672 -67.1982130603216, -173.45413510090592 -67.3903602562893, -171.5782039974163 -67.95941773520875, -169.84933599087117 -68.88351693729615, -168.33397050920172 -70.12714524845613, -167.09034219804175 -71.64251073012558, -166.16624299595432 -73.3713787366707, -165.5971855170349 -75.24730984016031, -165.4050383210672 -77.1982130603216))&quot;
&quot;1&quot;,&quot;POLYGON ((-8.452520911902269 -67.74392211194343, -8.644668107869965 -69.69482533210471, -9.213725586789401 -71.57075643559433, -10.137824788876816 -73.29962444213946, -11.381453100036794 -74.81498992380891, -12.896818581706246 -76.05861823496889, -14.625686588251371 -76.9827174370563, -16.501617691740986 -77.55177491597574, -18.45252091190227 -77.74392211194343, -20.403424132063552 -77.55177491597574, -22.279355235553165 -76.9827174370563, -24.00822324209829 -76.05861823496889, -25.523588723767745 -74.81498992380891, -26.76721703492772 -73.29962444213946, -27.691316237015137 -71.57075643559433, -28.260373715934573 -69.69482533210471, -28.45252091190227 -67.74392211194343, -28.260373715934573 -65.79301889178215, -27.691316237015137 -63.917087788292534, -26.767217034927725 -62.188219781747414, -25.523588723767745 -60.67285430007796, -24.00822324209829 -59.42922598891798, -22.279355235553172 -58.50512678683057, -20.403424132063556 -57.93606930791113, -18.452520911902273 -57.743922111943434, -16.501617691740986 -57.936069307911126, -14.62568658825137 -58.505126786830566, -12.89681858170625 -59.42922598891798, -11.381453100036795 -60.67285430007796, -10.137824788876816 -62.188219781747414, -9.213725586789405 -63.91708778829253, -8.644668107869967 -65.79301889178214, -8.452520911902269 -67.74392211194343))&quot;
&quot;2&quot;,&quot;POLYGON ((162.2081707571623 -31.42662990962053, 162.0160235611946 -33.37753312978181, 161.44696608227517 -35.25346423327143, 160.52286688018773 -36.98233223981655, 159.27923856902777 -38.497697721486006, 157.76387308735832 -39.741326032645986, 156.0350050808132 -40.6654252347334, 154.15907397732357 -41.23448271365284, 152.2081707571623 -41.42662990962053, 150.257267537001 -41.23448271365284, 148.3813364335114 -40.6654252347334, 146.65246842696627 -39.741326032645986, 145.13710294529682 -38.497697721486006, 143.89347463413685 -36.98233223981655, 142.96937543204942 -35.25346423327143, 142.40031795312998 -33.37753312978182, 142.2081707571623 -31.42662990962053, 142.40031795312998 -29.475726689459247, 142.96937543204942 -27.599795585969634, 143.89347463413685 -25.87092757942451, 145.13710294529682 -24.355562097755055, 146.65246842696627 -23.111933786595078, 148.3813364335114 -22.187834584507666, 150.257267537001 -21.61877710558823, 152.2081707571623 -21.42662990962053, 154.15907397732357 -21.618777105588226, 156.0350050808132 -22.187834584507662, 157.76387308735832 -23.111933786595074, 159.27923856902777 -24.355562097755055, 160.52286688018773 -25.87092757942451, 161.44696608227517 -27.599795585969627, 162.0160235611946 -29.475726689459243, 162.2081707571623 -31.42662990962053))&quot;
&quot;3&quot;,&quot;POLYGON ((27.358609632122636 86.94094455567688, 27.16646243615494 84.9900413355156, 26.597404957235504 83.11411023202598, 25.67330575514809 81.38524222548085, 24.429677443988112 79.8698767438114, 22.91431196231866 78.62624843265142, 21.185443955773536 77.702149230564, 19.30951285228392 77.13309175164457, 17.358609632122636 76.94094455567688, 15.407706411961355 77.13309175164457, 13.53177530847174 77.702149230564, 11.802907301926616 78.62624843265142, 10.287541820257161 79.8698767438114, 9.043913509097184 81.38524222548085, 8.119814307009769 83.11411023202598, 7.550756828090332 84.9900413355156, 7.358609632122636 86.94094455567688, 7.550756828090332 88.89184777583816, 8.119814307009769 90.76777887932778, 9.043913509097182 92.4966468858729, 10.28754182025716 94.01201236754235, 11.802907301926615 95.25564067870233, 13.531775308471733 96.17973988078974, 15.40770641196135 96.74879735970919, 17.358609632122633 96.94094455567688, 19.30951285228392 96.74879735970919, 21.185443955773536 96.17973988078974, 22.914311962318656 95.25564067870233, 24.429677443988112 94.01201236754235, 25.67330575514809 92.4966468858729, 26.5974049572355 90.76777887932778, 27.166462436154937 88.89184777583817, 27.358609632122636 86.94094455567688))&quot;
&quot;4&quot;,&quot;POLYGON ((-145.9706419963472 -85.44834173525058, -146.1627891923149 -87.39924495541186, -146.73184667123434 -89.27517605890148, -147.65594587332177 -91.0040440654466, -148.89957418448174 -92.51940954711606, -150.41493966615118 -93.76303785827604, -152.1438076726963 -94.68713706036345, -154.01973877618593 -95.25619453928289, -155.9706419963472 -95.44834173525058, -157.9215452165085 -95.25619453928289, -159.7974763199981 -94.68713706036345, -161.52634432654324 -93.76303785827604, -163.0417098082127 -92.51940954711606, -164.28533811937265 -91.0040440654466, -165.2094373214601 -89.27517605890148, -165.77849480037952 -87.39924495541186, -165.9706419963472 -85.44834173525058, -165.77849480037952 -83.4974385150893, -165.2094373214601 -81.62150741159968, -164.28533811937265 -79.89263940505455, -163.0417098082127 -78.3772739233851, -161.52634432654324 -77.13364561222512, -159.7974763199981 -76.20954641013772, -157.9215452165085 -75.64048893121827, -155.9706419963472 -75.44834173525058, -154.01973877618593 -75.64048893121827, -152.1438076726963 -76.20954641013772, -150.41493966615118 -77.13364561222512, -148.89957418448174 -78.3772739233851, -147.65594587332177 -79.89263940505455, -146.73184667123434 -81.62150741159968, -146.1627891923149 -83.49743851508929, -145.9706419963472 -85.44834173525058))&quot;
</code></pre><h2 id=buffer-a-vector-layer>Buffer a Vector Layer</h2><p>The following complete example illustrates how GEOC is inspired by the Unix Philosophy.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc vector randompoints -g -180,-90,180,90 -n <span style=color:#ae81ff>100</span> &gt; points.csv

cat points.csv | geoc vector buffer -d <span style=color:#ae81ff>10</span> &gt; polygons.csv

cat points.csv | geoc vector defaultstyle --color navy -o 0.75 &gt; points.sld

cat polygons.csv | geoc vector defaultstyle --color silver -o 0.5 &gt; polygons.sld

geoc map draw -f vector_buffer.png -l <span style=color:#e6db74>&#34;layertype=layer file=naturalearth.gpkg layername=ocean style=ocean.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=naturalearth.gpkg layername=countries style=countries.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=polygons.csv style=polygons.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=points.csv style=points.sld&#34;</span>
</code></pre></div><p>On the first line, we generate 100 random points and save the CSV to the a file called <strong>points.csv</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc vector randompoints -g -180,-90,180,90 -n <span style=color:#ae81ff>100</span> &gt; points.csv
</code></pre></div><p>Next we use the <strong>cat</strong> command to read <strong>points.csv</strong> which we then pipe to the next command called <strong>geoc vector buffer</strong> which generates a buffer around each point. This result is saved to a file called <strong>polygons.csv</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat points.csv | geoc vector buffer -d <span style=color:#ae81ff>10</span> &gt; polygons.csv
</code></pre></div><p>The next two lines again use the <strong>cat</strong> command to read the previously saved files and pipe their contents to the <strong>geoc vector defaultstyle</strong>. This command creates a Styled Layered Descriptor (SLD) based on the geometry type of the layer.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat points.csv | geoc vector defaultstyle --color navy -o 0.75 &gt; points.sld

cat polygons.csv | geoc vector defaultstyle --color silver -o 0.5 &gt; polygons.sld
</code></pre></div><p>Finally, we use the <strong>geoc map draw</strong> command to draw the points and buffered polygons on a world map. Since GeoTools is the base library for GeoServer, it contains all of rendering code necessary to create maps. This command also illustrates how we can read vector layers from other datasources (in this case GeoPackage).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>geoc map draw -f vector_buffer.png -l <span style=color:#e6db74>&#34;layertype=layer file=naturalearth.gpkg layername=ocean style=ocean.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=naturalearth.gpkg layername=countries style=countries.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=polygons.csv style=polygons.sld&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>    -l <span style=color:#e6db74>&#34;layertype=layer file=points.csv style=points.sld&#34;</span>
</code></pre></div><p><img src=/posts/geoc-cli-vector-buffer.png alt=Convexhull></p><p>One of the great advantages of the GEOC CLI is that you can do spatial analysis and visualization with one tool. If this post piqued your interest, check out the project&rsquo;s <a href=https://github.com/jericks/geoc>Github repository</a> and <a href=http://jericks.github.io/geoc/index.html>web site</a>.</p><ul class=pa0><li class=list><a href=/tags/geoc class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">GEOC</a></li><li class=list><a href=/tags/geotools class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">GeoTools</a></li><li class=list><a href=/tags/geoscript class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">GeoScript</a></li><li class=list><a href=/tags/cli class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">CLI</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-dark-blue bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://jericks.github.io/>&copy; GeoScripting 2023</a><div><a href=https://www.linkedin.com/in/ericksonjared target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/jericks target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>